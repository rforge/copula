<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>R: Bug Reporting in R</title>

    <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32" />
    <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16" />

    <!-- Bootstrap -->
    <link href="/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/R.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="container page">
      <div class="row">
        <div class="col-xs-12 col-sm-offset-1 col-sm-2 sidebar" role="navigation">
<div class="row">
<div class="col-xs-6 col-sm-12">
<p><a href="/"><img src="/Rlogo.png" width="100" height="78" alt = "R" /></a></p>
<p><small><a href="/">[Home]</a></small></p>
<h2 id="copula-book---website">Copula Book - Website</h2>
<ul>
<li><a href="/about.html">About R</a></li>
<li><a href="/contributors.html">Contributors</a></li>
<li><a href="/news.html">What’s New?</a></li>
<li><a href="/bugs.html">Reporting Bugs</a></li>
<li><a href="/conferences.html">Conferences</a></li>
<li><a href="/search.html">Search</a></li>
</ul>
</div>
<div class="col-xs-6 col-sm-12">
<h2 id="r-foundation">R Foundation</h2>
<ul>
<li><a href="/foundation/">Foundation</a></li>
<li><a href="/foundation/board.html">Board</a></li>
<li><a href="/foundation/members.html">Members</a></li>
<li><a href="/foundation/donors.html">Donors</a></li>
<li><a href="/foundation/donations.html">Donate</a></li>
</ul>
<h3 id="help-with-r">Help With R</h3>
<ul>
<li><a href="/help.html">Getting Help</a></li>
</ul>
<h3 id="documentation">Documentation</h3>
<ul>
<li><a href="/other-docs.html">Other</a></li>
</ul>
</div>
</div>
        </div>
        <div class="col-xs-12 col-sm-7">
        <h1>Bug Reporting in R</h1>
<p>This document explains what to do if you find a bug in the R project, or have a patch that you’d like to submit. It covers:</p>
<ol style="list-style-type: decimal">
<li>Making sure your problem is a bug;</li>
<li>Where to submit bug reports (see spam protection <strong>Note</strong>!)</li>
<li>How to write useful and productive bug reports;</li>
<li>How to submit patches;</li>
<li>What to do if something goes wrong.</li>
</ol>
<p>The intent is to make the most of your time and the R developers’ time, by ensuring that bug reports are clear-cut and easy for the developers to respond to.</p>
<h2 id="making-sure-its-a-bug">Making sure it’s a bug</h2>
<p>There are a couple of situations where something is definitely a bug; one example of those is when the R session unexpectedly terminates, or <em>segfaults</em>. This looks something like:</p>
<pre><code>    *** caught segfault ***
address (nil), cause &#39;memory not mapped&#39;</code></pre>
<p>If you’re seeing an error like this, unless you have written your own call to compiled code or an internal function (e.g. via <code>.C</code> or <code>.Internal</code>), it’s definitely a bug<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a>.</p>
<p>Other examples of obvious bugs are situations where code does not do what the documentation says it should: either the code is wrong, or the documentation is. One way or another something needs fixing.</p>
<p>Code doing something <em>unexpected</em> is not necessarily a bug - make sure to carefully review the documentation for the function you are calling to see if the behaviour it exhibits is what it was designed to do, even if it’s not what you want. Similarly, issues with <a href="https://cran.r-project.org/doc/FAQ/R-FAQ.html#Why-doesn_0027t-R-think-these-numbers-are-equal_003f">seemingly-identical numbers not being equal</a> are known, documented and intractable problems - not bugs.</p>
<p>In all cases, if you think it might be a bug, try launching R from the command line with the <code>--vanilla</code> option, to make sure it’s a clean session, and see if the bug still appears then. Reduce your code to the minimum required to run the function call where the bug occurred, in particular, only attaching packages required by that call (if any).</p>
<p>If, rather than a bug, you have a suggestion for a new feature in R, you can submit this to the same place you would submit a bug, see the next section.</p>
<p>If your issue doesn’t fall into any of these categories - if it’s R running slower than expected, say, or something working but not being defined in the way you think would be best, you should consult someone. If you don’t know anyone who can look over your code and see if it can be sped up, or if another function would suit your needs better, some useful places to ask for help are:</p>
<ol style="list-style-type: decimal">
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-help">The r-help mailing list</a>; or <a href="https://www.r-project.org/mail.html">other R mailing lists</a>.</li>
<li><a href="https://support.bioconductor.org/">The Bioconductor support site</a>.</li>
<li><a href="http://stackoverflow.com/questions/tagged/r">The R section of StackOverflow</a>.</li>
<li><a href="http://webchat.freenode.net/?channels=#R">The R Internet Relay Chat (IRC) channel</a>.</li>
</ol>
<h2 id="where-to-submit-bug-reports-and-patches">Where to submit bug reports and patches</h2>
<p>If your problem is definitely a bug - either because it falls into one of the bug categories above, or because you’ve asked people for help and they’ve confirmed it’s an issue - it’s time to submit a report so that it can be fixed.</p>
<p>Depending on the problem, you might need to submit bug reports in different places. The first step is to see which package the function with a bug comes from. The R Core team only maintains the core language and the R packages labelled with <code>Maintainer: R Core Team &lt;R-core@r-project.org&gt;</code>. You can see this label by running e.g. <code>maintainer(&quot;graphics&quot;)</code> in R.</p>
<p>If your bug is in <code>somePkg</code> and that is not maintained by the R Core team, you should submit your report to the package maintainer. Running <code>bug.report(package = &quot;somePkg&quot;)</code> directs you to the right place, either opening the relevant bug tracking web page or helping you to compose an email to the package maintainer.</p>
<p>The <code>bug.report</code> function is disabled in some IDEs (e.g. RStudio) to avoid misuse; to identify the right place to submit a report yourself, start by looking at the output of <code>packageDescription(&quot;somePkg&quot;)</code>, the R help for the package, or the webpage for the package from the relevant repository, e.g. <a href="https://cran.r-project.org/web/packages/available_packages_by_name.html">CRAN</a> or <a href="https://www.bioconductor.org/packages/release/BiocViews.html#___Software">Bioconductor</a>. Some packages have a bug submission page, such as an issue tracker on GitHub, listed under the <code>BugReports</code> field in the package description. If you follow this link you may find your bug has already been reported, otherwise you can submit your report there, following the guidelines on bug reporting discussed below. If there is no bug submission page, you should email your bug report to the package <code>Maintainer</code> via the address in the package description.</p>
<p>If your bug is in the language, though, or the Core-supported packages, you should submit your report to R’s <a href="https://bugs.r-project.org/bugzilla3/">Bugzilla</a>.<br />
<strong>NOTE: due to abuse by spammers, since 2016-07-09 only users who have previously submitted bugs can submit new ones on R’s Bugzilla. We’re working on a better system… In the mean time, post (e-mail) to <code>R-devel</code> or ask an R Core member to add you manually to R’s Bugzilla members.</strong><br />
It is important to try to make sure that the report isn’t extraneous. The easiest way to do this is to first look at the <a href="https://svn.r-project.org/R/trunk/doc/NEWS.Rd">upcoming changes in R</a>, to see if the bug has already been patched (just not released yet), and to <a href="https://bugs.r-project.org/bugzilla/buglist.cgi?bug_file_loc_type=allwordssubstr&amp;bug_status=NEW&amp;bug_status=ASSIGNED&amp;bug_status=REOPENED&amp;bug_status=UNCONFIRMED&amp;bugidtype=include&amp;chfieldto=Now&amp;cmdtype=doit&amp;emailassigned_to1=1&amp;emailassigned_to2=1&amp;emailcc2=1&amp;emailreporter2=1&amp;emailtype1=substring&amp;emailtype2=substring&amp;field0-0-0=noop&amp;long_desc_type=substring&amp;order=bugs.delta_ts%20desc&amp;query_format=advanced&amp;short_desc_type=allwordssubstr&amp;type0-0-0=noop">browse the latest bug reports</a> or <a href="https://bugs.r-project.org/bugzilla/query.cgi">search for the bug</a> in Bugzilla to see if (even if it hasn’t been patched yet) it has been reported. If your bug has not yet been reported or fixed, you can report the bug following the guidelines in the section <a href="#writing-a-good-bug-report">Writing a good bug report</a>. If you have a patch accompanying your bug, see the section <a href="#how-to-submit-patches">How to submit patches</a>.</p>
<p>If you wish to submit a feature request, rather than a bug report, your best bet is to ask about it first on the <a href="https://stat.ethz.ch/mailman/listinfo/r-devel">r-devel</a> mailing list. If the feedback is positive, you can submit your suggestion using the bug reporting form on Bugzilla, where you should select <code>Wishlist</code> in the <code>Component</code> field and start your summary with <code>Wishlist:</code>.</p>
<p>Issues related to message translations should be sent to the last translator or to the relevant <a href="https://developer.r-project.org/TranslationTeams.html">translation team</a>. To find the last translator, you will need to look at the comments at the top of the relevant <code>.po</code> file in the R source code, for example German translations of messages in the base package are in <code>src/library/base/po/R-de.po</code>. You can download the R source code from CRAN, or otherwise <a href="https://svn.r-project.org/R/trunk/">browse the R-devel sources</a> or <a href="https://github.com/wch/r-source">their mirror on GitHub</a>.</p>
<h2 id="writing-a-good-bug-report">Writing a good bug report</h2>
<p>Bug reports should include a way of <a href="https://en.wikipedia.org/wiki/Reproducibility">reproducing</a> the bug. This should be as simple as possible. If the person trying to fix the bug can’t work out how to make it appear, or has to jump through a lot of unnecessary hoops to make it appear, you’re going to waste a lot of their time.</p>
<p>Bugzilla is maintained by a small number of people, so it’s best to make sure your bug report is clear and well-written. If it’s not, it will suck in more energy from the maintainers and take longer for the bug to get fixed - or it may end up not getting handled at all. In particular, you should:</p>
<ol style="list-style-type: decimal">
<li>Write a clear and unique summary for the bug. “Stopping a run of lm() causes a crash” is good; “software crashes” is not.</li>
<li>Include, in the description, the steps to reproduce the bug mentioned above.</li>
<li>Identify both what happened (“the software crashed”) and what you expected to happen (“lm() should stop running”).</li>
<li>Identify the platform, architecture, and version of R where you found this bug. You can retrieve that from within R by typing <code>R.version</code>.</li>
<li>Just focus on the facts of what happened, rather than on your theories of what the bug is and where it comes from.</li>
</ol>
<p>At that point, you’ve written a good bug report! Sit back and wait for a developer to respond to it. If you run into any problems with that response, see the section <a href="#what-to-do-if-there-is-an-issue">What to do if there’s an issue</a>.</p>
<h2 id="how-to-submit-patches">How to submit patches</h2>
<p>Sometimes you’ll find a bug and also see, from looking at the code, how to fix it. When this happens you’ve got the opportunity to submit a patch, which can reduce the workload on the R developers: they get to test, tweak and include the code instead of having to write it all from scratch.</p>
<p>To prepare a patch, you’re going to need the latest developer version of R. This is maintained in a <a href="http://subversion.apache.org/">Subversion</a> (SVN) repository. Once you’ve got SVN installed on your system, open the command line and type:</p>
<pre><code>svn checkout https://svn.r-project.org/R/trunk/ R-devel</code></pre>
<p>This should create a directory, <code>R-devel</code>, in your current working directory. This contains the source code for the newest version of R.</p>
<p>Go through and make the changes you need to make in order to patch the bug - try to keep to whatever coding style and conventions the functions you’re changing use, just to make things easier. Once you’re done, go to the <code>R-devel</code> directory in your terminal and type:</p>
<pre><code>svn update
svn diff &gt; patch.diff</code></pre>
<p>This updates the code then creates a new file, <code>patch.diff</code>, that contains the changes between the latest version of R, and your alterations. And that’s a patch! Just attach that to the bug report you’re writing, note in the report that there’s an associated patch, and you’re done.</p>
<h2 id="what-to-do-if-there-is-an-issue">What to do if there is an issue</h2>
<p>In an ideal world you write an informative bug report (and maybe submit a patch), someone comes along promptly and fixes it, and everyone is happy. In the world we’ve got, the people maintaining R have a lot of responsibilities, and all of them are doing this work as volunteers. This means that, practically speaking, bugs may take a very long time to get fixed, accidentally get missed, or result in an unexpected or unpleasant outcome - not out of any maliciousness but simply because the people responsible for the software can get pretty stressed.</p>
<p>If you experience technical issues with R’s Bugzilla that do not resolve themselves after a period of time, you should contact the current maintainer: <script type="text/javascript">
<!--
h='&#82;&#x2d;&#112;&#114;&#x6f;&#106;&#x65;&#x63;&#116;&#46;&#x6f;&#114;&#x67;';a='&#64;';n='&#x73;&#x69;&#x6d;&#x6f;&#110;&#46;&#x75;&#114;&#98;&#x61;&#110;&#x65;&#x6b;';e=n+a+h;
document.write('<a h'+'ref'+'="ma'+'ilto'+':'+e+'" clas'+'s="em' + 'ail">'+e+'<\/'+'a'+'>');
// -->
</script><noscript>&#x73;&#x69;&#x6d;&#x6f;&#110;&#46;&#x75;&#114;&#98;&#x61;&#110;&#x65;&#x6b;&#32;&#x61;&#116;&#32;&#82;&#x2d;&#112;&#114;&#x6f;&#106;&#x65;&#x63;&#116;&#32;&#100;&#x6f;&#116;&#32;&#x6f;&#114;&#x67;</noscript>. If you feel like your bug has been missed (e.g. because a new release of R has come out, and it was not fixed), you can bring attention to it by simply adding a comment like “This is still present in the x.y.z release” on Bugzilla. Even better would be to install a pre-release alpha or beta version to confirm it is still present, and report that.</p>
<p>If you feel it has been assessed wrongly, you can leave a comment to that effect on Bugzilla. If you are personally acquainted with a member of R Core you could contact them directly. In either case, present your case clearly, and respect the fact that the R Core members may judge the importance of the issue (or even whether it is a bug or not) differently than you do.</p>
<div class="footnotes">
<hr />
<ol>
<li id="fn1"><p>If you are making a call to compiled code, check that you have not crashed R by using the wrong argument types (modes).<a href="#fnref1">↩</a></p></li>
</ol>
</div>
        </div>
      </div>
      <div class="raw footer">
        &copy; The R Foundation.
	<script type='text/javascript'>
<!--
var s="=b!isfg>#nbjmup;xfcnbtufsAs.qspkfdu/psh#?xfc!qbhf!dpoubdu=0b?";
m=""; for (i=0; i<s.length; i++) {if(s.charCodeAt(i) == 28){m+= '&';} else if (s.charCodeAt(i) == 23) {m+= '!';} else {m+=String.fromCharCode(s.charCodeAt(i)-1);}}document.write(m);//-->
	</script>
      </div>
    </div>
    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/js/bootstrap.min.js"></script>
  </body>
</html>
